<section id="contact" class="contact-form-section">
  <div class="content-container">
    <div class="contact-container">
    <div class="contact-left">
      <span class="section-label">{{ 'contact.contactMe' | translate }}</span>
      <h2>{{ 'contact.letsWorkTogether' | translate }}</h2>
      <p class="contact-description">{{ 'contact.gotProblem' | translate }}</p>
      <p class="contact-text">{{ 'contact.encourageText' | translate }}</p>
      <p class="contact-cta">{{ 'contact.needFrontend' | translate }} <span class="highlight">{{ 'contact.letsTalk' | translate }}</span></p>
    </div>
    
    <div class="contact-right">
      <form class="contact-form" [formGroup]="contactForm" (ngSubmit)="onSubmit()">
        <!-- Honeypot field (hidden from users, but visible to bots) -->
        <input type="text" formControlName="website" style="position: absolute; left: -9999px; visibility: hidden;" tabindex="-1" autocomplete="off">
        
        <div class="form-section">
          <div class="field-container">
            <div class="underline"></div>
            <label for="name">{{ 'contact.labelName' | translate }}</label>
            @if (nameErrorClass()) {
              <input type="text" id="name" formControlName="name" [placeholder]="namePlaceholder()" class="error-placeholder">
            } @else {
              <input type="text" id="name" formControlName="name" [placeholder]="namePlaceholder()">
            }
            <div class="underline"></div>
          </div>

          <div class="field-container">
            <label for="email">{{ 'contact.labelEmail' | translate }}</label>
            @if (emailErrorClass()) {
              <input type="email" id="email" formControlName="email" [placeholder]="emailPlaceholder()" class="error-placeholder">
            } @else {
              <input type="email" id="email" formControlName="email" [placeholder]="emailPlaceholder()">
            }
            <div class="underline"></div>
          </div>
          
          <div class="field-container">
            <label for="message">{{ 'contact.labelMessage' | translate }}</label>
            @if (messageErrorClass()) {
              <textarea id="message" formControlName="message" [placeholder]="messagePlaceholder()" class="error-placeholder"></textarea>
            } @else {
              <textarea id="message" formControlName="message" [placeholder]="messagePlaceholder()"></textarea>
            }
            <div class="underline last-underline"></div>
          </div>
        </div>
        
        <div class="privacy-notice">
          <div class="checkbox-container">
            <div class="custom-checkbox">
              <input type="checkbox" id="privacy" formControlName="privacy" (change)="clearPrivacyError()">
              <span class="checkmark">âœ“</span>
            </div>
            @if (showPrivacyError()) {
              <div class="privacy-error">{{ privacyErrorText() }}</div>
            }
          </div>
          <div class="privacy-content">
            <label for="privacy" class="privacy-text">{{ 'contact.privacyText1' | translate }} <a routerLink="/privacy" class="privacy-link">{{ 'contact.privacyText2' | translate }}</a> {{ 'contact.privacyText3' | translate }}</label>
          </div>
        </div>
        
        <button type="submit" class="send-message-btn" [disabled]="isSubmitting() || submitStatus() === 'rate_limited'">
          @if (isSubmitting()) {
            {{ 'contact.sending' | translate }}
          } @else if (submitStatus() === 'success') {
            {{ 'contact.messageSent' | translate }}
          } @else if (submitStatus() === 'error') {
            {{ 'contact.tryAgain' | translate }}
          } @else if (submitStatus() === 'rate_limited') {
            {{ 'contact.tryAgain' | translate }}
          } @else {
            {{ 'contact.sayHello' | translate }}
          }
        </button>

        @if (submitStatus() === 'success') {
          <div class="success-message">
            {{ 'contact.successMessage' | translate }}
            @if (showRateLimitWarning()) {
              <div class="rate-limit-warning">
                {{ 'contact.rateLimitWarning' | translate:{ remaining: remainingEmails(), minutes: 15 } }}
              </div>
            }
          </div>
        }

        @if (submitStatus() === 'rate_limited') {
          <div class="error-message rate-limit-error">
            {{ 'contact.rateLimitExceeded' | translate:{ minutes: cooldownMinutes() } }}
          </div>
        }

        @if (submitStatus() === 'error') {
          <div class="error-message">
            {{ 'contact.errorMessage' | translate }}
          </div>
        }
      </form>
    </div>
  </div>
  </div>
</section>
